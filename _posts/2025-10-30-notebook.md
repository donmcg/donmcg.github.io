---
layout: post
title: donmcg.github.io notebook 
tip: removing metadata from image
project: donmcg.github.io
author: donmc
date:   2025-10-30 01:00:00 -0700
---

# Notes for building donmc.github.io
Date of this post: {{ page.date | date: "%d %b %Y" }}

|[Published GitHub Site](https://donmcg.github.io) | [local site](http://localhost:4000) |

Preparing for actual content to be added to site!

Reviewing the Home and Mini(topical) pages the presentation is not
quite what I really want.  It's too sparse.

Recall I want the library to start off showing something like

---

&nbsp;

From this [post]({% post_url 2025-10-12-notebook %}):

> 1. mini
>     - history
>     - measurement
>         * deluxe gas gauge
>         * bottom hose temperature
>         * knock sensor
>         * su needle position
>         * afr
>         * compression ratio
>         * fuel pressure
>     - equipment
>         * smoke generator
>         * can bus
>         * bipolar power supply
>     - maintenance
>         * oil
> 2. home
>     - furniture
>         * closet
>     - yard
>         * deck
>         * fence
>         * pool plumbing
>     - shop
>         * shelf
> 3. music
>     - arrangements
>       * scotch and soda

&nbsp;

---

But as it is I am presenting something more like this:

---

&nbsp;

> 1. mini
>     - history
>         * history theme page
>     - measurement
>         * measurement theme page
>     - maintenance
>         * maintenance theme page
> 2. music
>     - leadsheet
>         * leadsheet theme page

Here *history*, *measurement* and *maintenance* are **tome**s.
And the subsequent levels are **book**:*title*s found for each **tome**.


&nbsp;

---

&nbsp;

So, far, I have been careful to ignore *[themes]* in
*book*s and to ignore *[topics]* in *chapter*s.  (Which does sound backwards
now that I put it that way...)

To get what I am looking for, I would want each *chapter* to now
declare which *[topics]* (i.e. *book*s) it belongs to.

Said simply: Each tome is to be listed by name.  For each tome all books are
listed (once) by title, For each book all chapters are listed (once) by title.
Book and Chapter titles are links back to the page that declares them.
Topics and Themes are used in the background for associations and sorting
but are not mentioned explicitly in this list.

> 1. mini
>     - history -> link to tome
>         * historical -> link to book
>             * general -> link to chapter
>         * personal -> link to book
>             * I have known -> link to chapter
>     - measurement -> link to tome
>         * AFR -> link to book
>             * general -> link to chapter
>             * AFR defined -> link to chapter
>             * AFR blog -> link to chapter
>             * AFR project -> link to chapter
>         * CR -> link to book
>     - maintenance -> link to tome
>         * OIL -> link to book
>
> 2. CATEGORY (provided by page calling the include file)
>     - TOME1 (binder.tome)
>         * BOOK1_in_TOME1 (binder.tome.book.title)
>             + title_of_CHAPTER1_of_TOPIC1_BOOK1_in_TOME1 link to CHAPTER1
>             + title_of_CHAPTER2_of_TOPIC1_BOOK1_in_TOME1 link to CHAPTER2
>
>             ...
>             + title_of_CHAPTERN_of_TOPICM_BOOK1_in_TOME1 link to CHAPTERN
>     - TOME2
>
>       ...

---

<br>
The above shall be provided by *binder_tomes_books_chapters_list.html*

---

&nbsp;

#### testbed for **binder_tomes_books_chapters_list.html** (mini collection):

<blockquote>
<div>
<ul>
{% include binder_tomes_books_chapters_list.html
   sitecoll=site.mini collection="mini" gab=false %}
</ul>
</div>
</blockquote>

&nbsp;

---
<br>
Note that in **binder_tome_books_chapters_list.html** liberal use
of **{%raw%}{%-{%endraw%}**, **{%raw%}-%}{%endraw%}**, and **gab** have been employed to reduce extraneous
whitespace and comments in the rendered .html inclusion.

---

Some lessons learned:

- Whitespace:

{% highlight liquid %}
It is possible to reduce the whitespace in the rendered .html inclusion
using the '-' addition:

{% raw %}
  {% whatever %}
  ...
  {% endwhatever %}
{% endraw %}
becomes
{% raw %}
  {%- whatever -%}
  ...
  {%- endwhatever -%}
{% endraw %}
{% endhighlight %}

- Arrays of arrays:

In liquid managing arrays must be accomplished via string operations.
An array must be 'stringified' before adding as an element to an array.
After retrieving an array from an array it must be 'unstringified' to
return to being an array.

Array elements are delimited by an associated character sequence. Arrays
created via front matter are typically delimited with the ',' sequence.
There is no (known) limitation to the other characters used as array
elements in front matter. As such it makes sense (?) to attempt delimiting
multi-level arrays with a unique-but-unlikely character sequence.

---

I have chosen to use the sequence ']**n**[' where **n** is an integer
that indicates the nest level of the array.  I found this did not
work using '>**n**<' as it confused liquid...

Add my_array_2_string as an element in the my_array_1 array:

{% highlight liquid %}
{% raw %}
#  create my_array_1 using ']1[' delimiter:
  {% assign my_array_1 = "" | split: ']1[' %}

#  create my_array_2 using ',' delimiter:
  {% assign my_array_2 = "" | split: ',' %}
  {% assign my_array_2 = my_array_2 | push: "red" %}
  {% assign my_array_2 = my_array_2 | push: "blue" %}
  {% assign my_array_2 = my_array_2 | push: "green" %}

#  stringify my_array_2 using ']2[' delimiter:
  {% assign my_array_2_string = my_array_2 | join: ']2[' %}

#  place my_array_2_string in my_array_1 using ']1[' delimiter:
  {% assign my_array_1 = my_array_1 | append: ']1['
              | append: my_array_2_string | split: ']1[' %}
  -or-
  {% assign my_array_1 = my_array_1 | push: my_array_1 %}

{% endraw %}
{% endhighlight %}

---

&nbsp;

#### testbed for **multi_level_arrays** [(source code below)](#mla-source-code):

As a demonstration of the ideas above consider
[_includes/multi_level_arrays.html](#mla-source-code) which is rendered in its full
glory here:

<blockquote>
{% include multi_level_arrays.html gab=false %}
</blockquote>

&nbsp;

---

As a final comment, there are now two ways to list collections on the home page:

- binder_book_topics_list.html

- binder_tomes_books_chapters_list.html

Each has it's advantages. For the moment I'm using **both**!

---

#### Some interesting links:

[Manipulating Text Strings and Arrays in Liquid for Jekyll](http://tmblog.mwbinc.com/general/2017/05/20/strings-and-array-liquid-jekyll.html)

---

&nbsp;

<p id="mla-source-code"></p>
#### Source code for multi_level_arrays.html:

{% highlight liquid %}
{% raw %}
{%- comment -%}
---
layout: default
title: multi-level arrays evaluation
---
{%- endcomment -%}

{%- comment use this include as follows -%}
include multi_level_arrays gab=[false|true]
{%- endcomment -%}

{%- assign gab = false -%}
  {%- if include.gab == true -%}
    {%- assign gab = true -%}
    gab is true<br>
    <!-- gab true comment -->
  {%- else -%}
    <!-- gab is false -->
{%- endif -%}

<div>
  This is a demonstration of multi-level arrays <br>
<!--  create my_array_1 using ']1[' delimiter: -->
{%- assign my_array_1 = "a]1[b]1[c" | split: ']1[' -%}

<br> initial my_array_1: "{{my_array_1}}" demonstrates ']1[' as split <br>
  my_array_1[0]: "{{my_array_1[0]}}" <br>
  my_array_1[1]: "{{my_array_1[1]}}" <br>
  my_array_1[2]: "{{my_array_1[2]}}" <br>
  my_array_1[3]: "{{my_array_1[3]}}" <br>

  <!--  create my_array_2 using ',' delimiter: -->
  {%- assign my_array_2 = "" | split: ',' -%}
  {%- assign my_array_2 = my_array_2 | push: "red" -%}
  {%- assign my_array_2 = my_array_2 | push: "blue" -%}
  {%- assign my_array_2 = my_array_2 | push: "green" -%}
  <br> initial my_array_2: "{{my_array_2}}" simple ',' as split <br>

  <!--  stringify my_array_2 using ']2[' delimiter: -->
  {%- assign my_array_2_string = my_array_2 | join: "]2[" -%}
  <br> initial my_array_2_string: "{{my_array_2_string}}" demos join <br>

  <!--  place my_array_2_string in my_array_1 using ']1[' delimiter: -->
  {%- assign my_array_1 = my_array_1 | push: my_array_2_string -%}
  <br> pushed my_array_1: "{{my_array_1}}" retains ']2[' as split <br>
  my_array_1[0]: "{{my_array_1[0]}}" <br>
  my_array_1[1]: "{{my_array_1[1]}}" <br>
  my_array_1[2]: "{{my_array_1[2]}}" <br>
  my_array_1[3]: "{{my_array_1[3]}}" <br>

  <br> my_array_1 now contains a stringified copy of my_array_2 <br>

  {%- comment -%}
  -or instead of push ...-
  {%- assign my_array_1 = my_array_1 | append: ']1['
              | append: my_array_2_string | split: ']1[' -%}
  {%- endcomment -%}

  <!-- recover a copy of my_array_2 -->
  {%- assign my_array_2_recovered = my_array_1[3] | split: ']2[' -%}
<br> recovered my_array_2_recovered: "{{my_array_2_recovered}}" <br>
  my_array_2_recovered[0]: "{{my_array_2_recovered[0]}}" <br>
  my_array_2_recovered[1]: "{{my_array_2_recovered[1]}}" <br>
  my_array_2_recovered[2]: "{{my_array_2_recovered[2]}}" <br>
  my_array_2_recovered[3]: "{{my_array_2_recovered[3]}}" <br>

  <br> ta da! <br>
</div>
{% endraw %}
{% endhighlight %}

